---
title: "NPM Package"
description: "Full control over tracking with the npm package"
---

## Installation

<CodeGroup>
```bash npm
npm install @outlit/tracker
```

```bash pnpm
pnpm add @outlit/tracker
```

```bash yarn
yarn add @outlit/tracker
```
</CodeGroup>

## Initialization

Initialize the tracker once at app startup, typically in your entry point:

```typescript
import outlit from '@outlit/tracker'

outlit.init({
  publicKey: 'pk_your_public_key',
  // Optional configuration
  apiHost: 'https://app.outlit.ai',
  trackPageviews: true,
  trackForms: true,
  flushInterval: 5000, // ms
})
```

### Configuration Options

<ParamField path="publicKey" type="string" required>
  Your organization's public key from Settings â†’ Website Tracking.
</ParamField>

<ParamField path="apiHost" type="string" default="https://app.outlit.ai">
  The API endpoint for sending events. Override for self-hosted or proxy setups.
</ParamField>

<ParamField path="trackPageviews" type="boolean" default="true">
  Automatically track pageviews on navigation.
</ParamField>

<ParamField path="trackForms" type="boolean" default="true">
  Automatically capture form submissions.
</ParamField>

<ParamField path="formFieldDenylist" type="string[]">
  Additional field names to exclude from form capture.
</ParamField>

<ParamField path="flushInterval" type="number" default="5000">
  How often to send batched events (in milliseconds).
</ParamField>

<ParamField path="autoTrack" type="boolean" default="true">
  Whether to start tracking automatically on init. Set to `false` if you need to wait for user consent. Call `enableTracking()` after consent is obtained.
</ParamField>

<ParamField path="autoIdentify" type="boolean" default="true">
  Automatically identify users when they submit forms containing an email field. Extracts email and name using field name heuristics. Set to `false` to call `identify()` manually. See [Auto-Identify](/tracking/identity/overview#auto-identify) for details.
</ParamField>

## Consent Management

If you need to wait for user consent before tracking:

```typescript
import outlit from '@outlit/tracker'

// Initialize without auto-tracking
outlit.init({
  publicKey: 'pk_your_public_key',
  autoTrack: false, // Don't track until consent
})

// Later, when user accepts cookies/tracking
function onConsentAccepted() {
  outlit.enableTracking()
}
```

### Check Tracking Status

```typescript
import { isTrackingEnabled } from '@outlit/tracker'

if (isTrackingEnabled()) {
  console.log('Tracking is active')
}
```

## API Reference

### `outlit.init(options)`

Initialize the tracker. Must be called before other methods.

```typescript
import outlit from '@outlit/tracker'

outlit.init({ publicKey: 'pk_xxx' })
```

### `outlit.track(eventName, properties?)`

Track a custom event.

```typescript
outlit.track('feature_used', {
  feature: 'export',
  format: 'csv',
  rowCount: 1500
})
```

<ParamField path="eventName" type="string" required>
  A descriptive name for the event. Use `snake_case`.
</ParamField>

<ParamField path="properties" type="Record<string, string | number | boolean | null>">
  Additional data to attach to the event.
</ParamField>

### `outlit.identify(options)`

Identify the current visitor. Links their anonymous history to a known profile.

```typescript
outlit.identify({
  email: 'jane@acme.com',
  userId: 'usr_12345',
  traits: {
    name: 'Jane Doe',
    company: 'Acme Inc',
    role: 'Engineering Manager',
    plan: 'enterprise'
  }
})
```

<ParamField path="email" type="string">
  The visitor's email address. Primary identifier.
</ParamField>

<ParamField path="userId" type="string">
  Your internal user ID (from Supabase, Auth0, etc.).
</ParamField>

<ParamField path="traits" type="Record<string, string | number | boolean | null>">
  Additional properties about the user.
</ParamField>

### `outlit.getInstance()`

Get the singleton tracker instance.

```typescript
const tracker = outlit.getInstance()
const visitorId = tracker.getVisitorId()
```

### `outlit.enableTracking()`

Enable tracking after consent. Only needed if `autoTrack: false` was set during init.

```typescript
import outlit, { enableTracking } from '@outlit/tracker'

// Initialize with autoTrack: false
outlit.init({ publicKey: 'pk_xxx', autoTrack: false })

// Later, after consent
enableTracking()
// or
outlit.enableTracking()
```

### `outlit.isTrackingEnabled()`

Check if tracking is currently enabled.

```typescript
import { isTrackingEnabled } from '@outlit/tracker'

if (isTrackingEnabled()) {
  // Tracking is active
}
```

## TypeScript Support

The package is written in TypeScript and includes full type definitions:

```typescript
import outlit, {
  type TrackerOptions,
  type BrowserTrackOptions,
  type BrowserIdentifyOptions,
} from '@outlit/tracker'

// Full type safety
outlit.init({
  publicKey: 'pk_xxx',
  trackPageviews: true,
})

outlit.track('purchase_completed', {
  orderId: 'ord_123',
  amount: 99.99,
  currency: 'USD',
})
```

## Framework Examples

### Next.js (App Router)

```typescript
// app/providers.tsx
'use client'

import { useEffect } from 'react'
import outlit from '@outlit/tracker'

export function OutlitInit() {
  useEffect(() => {
    outlit.init({ publicKey: process.env.NEXT_PUBLIC_OUTLIT_KEY! })
  }, [])

  return null
}

// app/layout.tsx
import { OutlitInit } from './providers'

export default function RootLayout({ children }) {
  return (
    <html>
      <body>
        <OutlitInit />
        {children}
      </body>
    </html>
  )
}
```

### Vue.js

```typescript
// main.ts
import { createApp } from 'vue'
import App from './App.vue'
import outlit from '@outlit/tracker'

outlit.init({ publicKey: import.meta.env.VITE_OUTLIT_KEY })

createApp(App).mount('#app')
```

```vue
<!-- Component.vue -->
<script setup>
import outlit from '@outlit/tracker'

function handleClick() {
  outlit.track('button_clicked', { id: 'cta' })
}
</script>
```

### Svelte

```typescript
// +layout.ts
import outlit from '@outlit/tracker'

outlit.init({ publicKey: import.meta.env.VITE_OUTLIT_KEY })
```

```svelte
<!-- Component.svelte -->
<script>
import outlit from '@outlit/tracker'

function handleClick() {
  outlit.track('button_clicked', { id: 'cta' })
}
</script>
```

## Advanced Usage

### Manual Flush

Force immediate sending of queued events:

```typescript
await outlit.getInstance().flush()
```

### Shutdown

Gracefully shutdown the tracker (flushes remaining events):

```typescript
await outlit.getInstance().shutdown()
```

### Access Visitor ID

Get the current visitor's ID for server-side correlation:

```typescript
const visitorId = outlit.getInstance().getVisitorId()

// Send to your backend
fetch('/api/correlate', {
  body: JSON.stringify({ visitorId, data: '...' })
})
```

## Next Steps

<CardGroup cols={2}>
  <Card title="React Integration" icon="react" href="/tracking/browser/react">
    Use the React provider and hooks
  </Card>
  <Card title="Server-Side" icon="server" href="/tracking/server/nodejs">
    Track events from your backend
  </Card>
</CardGroup>

